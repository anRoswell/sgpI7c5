<ion-header class="ion-no-border" color="primary">
  <ion-toolbar color="background">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Registrar usuario</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" fixed>
  <!-- Logo -->
  <div class="animated ion-text-center">
    <div ion-text-center ion-padding-top style="display: flex; justify-content: center; margin: 10px">
      <img src="/assets/img/logo_electropro.png" height="70px" />
    </div>
  </div>

  <div [formGroup]="form2" *ngIf="validarUsuario">
    <ion-grid fixed>
      <ion-row>
        <ion-col size="12">
          <ion-text color="primary">
            <h1>Bienvenido a ElectorPro</h1>
            <p>
              Por favor ingrese su cedula y token enviado previamente a su
              correo electronico, para verificar su invitación.
            </p>
          </ion-text>
        </ion-col>
      </ion-row>
      <ion-row class="ion-justify-center">
        <ion-col align-self-center size="12">
          <div class="ion-text-center">
            <ion-input type="number" class="inputPersonalize" placeholder="Ingrese su cédula" formControlName="cedula"
              required>
            </ion-input>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <div class="ion-text-center">
            <ion-input type="number" class="inputPersonalize" formControlName="token"
              placeholder="Ingrese su token de invitación" required></ion-input>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size="12">
          <ion-button (click)="validarInvitacion()" expand="block" fill="solid" shape="round" color="secondary">
            Consultar
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>

  <form [formGroup]="form" *ngIf="!validarUsuario">
    <ion-grid fixed>
      <ion-item-group>
        <ion-item-divider class="ion-text-center">
          <ion-label color="primary"><strong>USUARIO Y PASSWORD</strong></ion-label>
        </ion-item-divider>

        <!-- CORREO ELECTRONICO -->
        <ion-row>
          <ion-col size="12" size-sm size-md="6">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">Ingrese correo electronico
                <ion-text color="danger">*</ion-text></ion-label>
              <ion-input type="text" formControlName="email" placeholder="Ingrese su E-mail." readonly></ion-input>
            </ion-item>
            <div class="validationError ion-text-center">
              <ng-container *ngFor="let validation of validationsMessage.email">
                <div *ngIf="isValid('email', validation.type)">
                  <small>{{validation.message}}</small>
                </div>
              </ng-container>
            </div>
          </ion-col>
        </ion-row>

        <!-- PASSWORD-->
        <ion-row>
          <ion-col size="6" size-sm size-md="6">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">Contraseña <ion-text
                  color="danger">*</ion-text></ion-label>
              <ion-input formControlName="usrPassword" placeholder="Contraseña" type="password"></ion-input>
            </ion-item>
            <div class="validationError ion-text-center">
              <ng-container *ngFor="let validation of validationsMessage.usrPassword">
                <div *ngIf="isValid('usrPassword', validation.type)">
                  <small>{{validation.message}}</small>
                </div>
              </ng-container>
            </div>
          </ion-col>
          <ion-col size="6" size-sm size-md="6">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">
                Confirmar <ion-text color="danger">*</ion-text></ion-label>
              <ion-input placeholder="Confirmar" formControlName="confirmPassword" type="password"></ion-input>
            </ion-item>
            <div class="ion-padding-bottom ion-text-center"
              *ngIf="form.get('confirmPassword')!.hasError('ConfirmPassword') ">
              <small class="validationError">
                El password y su confirmación no concuerdan, verificar!!!
              </small>
            </div>
          </ion-col>
        </ion-row>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider class="ion-text-center">
          <ion-label color="primary"><strong>DATOS BASICOS</strong></ion-label>
        </ion-item-divider>
        <!-- NOMBRES Y APELLIDOS -->
        <ion-row>
          <ion-col size="6" size-sm size-md="4">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">
                Primer nombre <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="primerNombre" placeholder="Primer nombre"></ion-input>
            </ion-item>
            <div class="validationError ion-text-center">
              <ng-container *ngFor="let validation of validationsMessage.primerNombre">
                <div *ngIf="isValid('primerNombre', validation.type)">
                  <small>{{validation.message}}</small>
                </div>
              </ng-container>
            </div>
          </ion-col>
          <ion-col size="6" size-sm size-md="4">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">
                Segundo nombre</ion-label>
              <ion-input formControlName="segundoNombre" placeholder="Su nombre"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col size="6" size-sm size-md="4">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">
                Apellido paterno
                <ion-text color="danger">*</ion-text></ion-label>
              <ion-input formControlName="apellidoPaterno" placeholder="Su apellido"></ion-input>
            </ion-item>
            <div class="validationError ion-text-center">
              <ng-container *ngFor="let validation of validationsMessage.apellidoPaterno">
                <div *ngIf="isValid('apellidoPaterno', validation.type)">
                  <small>{{validation.message}}</small>
                </div>
              </ng-container>
            </div>
          </ion-col>

          <ion-col size="6" size-sm size-md="4">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">
                Apellido materno</ion-label>
              <ion-input formControlName="apellidoMaterno" placeholder="Su apellido"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>

        <!-- TIPO DE IDENTIFICACIÓN Y DOCUMENTO DE IDENTIDAD -->
        <ion-row>
          <ion-col size="6" size-sm size-md="4">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">
                Apellido casado</ion-label>
              <ion-input formControlName="apellidoCasado" placeholder="apellidoCasado"></ion-input>
            </ion-item>
          </ion-col>

          <ion-col size="6" size-sm size-md="4">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">Cédula <ion-text
                  color="danger">*</ion-text></ion-label>
              <ion-input formControlName="cedula" placeholder="Ingrese cédula." type="text" readonly></ion-input>
            </ion-item>
            <div class="validationError ion-text-center">
              <ng-container *ngFor="let validation of validationsMessage.cedula">
                <div *ngIf="isValid('cedula', validation.type)">
                  <small>{{validation.message}}</small>
                </div>
              </ng-container>
            </div>
          </ion-col>

          <ion-col size="12" size-sm size-md="4">
            <ion-item lines="none">
              <ion-label position="floating" color="ToolBarBlue" class="ionLabel">Mobile <ion-text
                  color="danger">*</ion-text></ion-label>
              <ion-input formControlName="mobile" placeholder="Ingrese numero de celular." type="number"></ion-input>
            </ion-item>
            <div class="validationError ion-text-center">
              <ng-container *ngFor="let validation of validationsMessage.mobile">
                <div *ngIf="isValid('mobile', validation.type)">
                  <small>{{validation.message}}</small>
                </div>
              </ng-container>
            </div>
          </ion-col>
        </ion-row>

        <!-- TERMINOS Y CONDICIONES-->
        <ion-row>
          <ion-col size="12">
            <ion-item lines="none">
              <ion-text>
                <a href="https://aseocapital.com.pa/reglamento-general-de-proteccion-de-datos/" target="_blank">Acepto
                  terminos y condiciones
                  <ion-text color="danger">*</ion-text></a>
              </ion-text>
              <ion-toggle slot="end" formControlName="usrTerminosCondiciones"></ion-toggle>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-item-group>

      <!-- BOTON REGISTRO -->
      <!-- <ion-row>
				<ion-col class="ion-text-center"> </ion-col>
			</ion-row> -->
    </ion-grid>
  </form>
  <!-- <p>{{Form.valid}}</p>
	<p>Form status: {{ Form.status | json }}</p>
	<p>{{Form.value | json}}</p> -->
</ion-content>

<ion-footer class="ion-text-center">
  <ion-toolbar>
    <div style="display: flex; justify-content: center">
      <ion-button type="button" color="medium" expand="full" fill="solid" shape="round">
        <ion-icon slot="start" name="close-circle-outline"></ion-icon>
        <strong>CANCELAR</strong>
      </ion-button>
      <ion-button color="secondary" type="button" class="btnYellow" fill="solid" shape="round" (click)="register()">
        <ion-icon slot="start" name="person-add" color="light"></ion-icon>
        <strong>REGISTRARSE!</strong>
      </ion-button>
    </div>
    <ion-buttons slot="end"> </ion-buttons>
  </ion-toolbar>
</ion-footer>